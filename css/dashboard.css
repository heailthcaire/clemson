:root {
  --clemson-orange: #F66733;
  --clemson-purple: #522D80;
  --purple-600: #3B1F5E;
  --purple-100: #EFE9F7;
  --orange-100: #FFE6DA;
  --gray-900: #1E2230;
  --gray-600: #4E5666;
  --gray-400: #9099A8;
  --gray-200: #D8DEE5;
  --gray-100: #F3F5F8;
  --white: #FFFFFF;
  --green: #2E8B57;
  --yellow: #E6B800;
  --red: #D64545;
  --font-sans: system-ui,-apple-system,"Segoe UI",Roboto,Inter,"Helvetica Neue",Arial,sans-serif;
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 14px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.08);
  --shadow-md: 0 4px 14px rgba(0,0,0,0.08);
  --transition: 160ms ease;
}
* { box-sizing: border-box; }
body {
  margin:0;
  font-family: var(--font-sans);
  background: linear-gradient(145deg,var(--white), var(--orange-100));
  color: var(--gray-900);
  -webkit-font-smoothing: antialiased;
}
h1,h2,h3,h4 { margin:0 0 .5rem; line-height:1.2; font-weight:600; }
p { margin:0 0 1rem; }
a { color: var(--clemson-purple); text-decoration:none; }
a:hover { text-decoration:underline; }
.small { font-size:.75rem; }

.visually-hidden {
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}
.skip-link {
  position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus { left:1rem; top:1rem; width:auto; height:auto; background:#000; color:#fff; padding:.5rem .75rem; z-index:100; }

/* Header */
.app-header {
  display:flex; justify-content:space-between; align-items:center;
  padding:.75rem 1.25rem;
  background: var(--clemson-purple);
  color: var(--white);
  gap:1rem;
  position:sticky; top:0; z-index:20;
}
.brand { display:flex; flex-direction:column; }
.logo-text { font-size:1.25rem; font-weight:700; letter-spacing:.5px; }
.sub { font-size:.7rem; opacity:.8; letter-spacing:.5px; text-transform:uppercase; }

.header-actions { display:flex; align-items:center; gap:.75rem; flex-wrap:wrap; }
.period-toggle button {
  background:rgba(255,255,255,0.15);
  border:1px solid rgba(255,255,255,0.25);
  color:#fff; padding:.4rem .8rem; font-size:.7rem; cursor:pointer;
  letter-spacing:.5px; text-transform:uppercase; border-radius: var(--radius-sm);
}
.period-toggle button.active,
.period-toggle button:hover { background: var(--clemson-orange); border-color: var(--clemson-orange); }

.select-wrap select {
  background: var(--white);
  border:1px solid var(--gray-200);
  padding:.45rem .65rem;
  font-size:.8rem;
  border-radius: var(--radius-sm);
  min-width: 150px;
}

.btn {
  border:1px solid var(--white);
  background:var(--clemson-orange);
  color:#fff;
  padding:.5rem .9rem;
  border-radius: var(--radius-sm);
  font-weight:600;
  font-size:.7rem;
  letter-spacing:.5px;
  text-transform:uppercase;
  cursor:pointer;
  box-shadow: var(--shadow-sm);
  transition: background var(--transition), transform var(--transition);
}
.btn:hover { background:#ff7b4f; }
.btn.small { font-size:.65rem; padding:.45rem .7rem; }

/* Loading & Error */
.loading, .error {
  margin:1rem 1.25rem;
  padding:1.25rem 1.5rem;
  border:1px solid var(--gray-200);
  background:#fff;
  border-radius: var(--radius-md);
  display:flex; flex-direction:column; gap:.6rem; align-items:flex-start;
}
.loading.active { display:flex; }
.loading .spinner {
  width:28px; height:28px;
  border:4px solid var(--orange-100);
  border-top:4px solid var(--clemson-orange);
  border-radius:50%;
  animation: spin 1s linear infinite;
}
.error { border-color: var(--red); color: var(--red); }
.hidden { display:none; }
@keyframes spin { to { transform: rotate(360deg); } }

/* KPI Strip */
.kpi-strip {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:1rem;
  padding:1rem 1.25rem;
  margin:1rem 1.25rem;
  background:#fff;
  border:1px solid var(--gray-200);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}
.kpi {
  display:flex; flex-direction:column; gap:.2rem;
  padding:.4rem .5rem;
  border-left:4px solid var(--clemson-purple);
  background: linear-gradient(135deg,var(--purple-100),#fff);
  border-radius: var(--radius-sm);
}
.kpi-label { font-size:.65rem; text-transform:uppercase; letter-spacing:.6px; color: var(--gray-600); }
.kpi-value { font-size:1.3rem; font-weight:600; color: var(--clemson-purple); }
.kpi-sub { font-size:.65rem; color: var(--gray-600); }

/* Grid layout */
.grid-layout {
  display:grid;
  gap:1.25rem;
  padding:0 1.25rem 2rem;
}

/* Panels */
.panel {
  background:#fff;
  border:1px solid var(--gray-200);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  display:flex;
  flex-direction:column;
}
.panel-header {
  padding:.85rem 1rem .6rem;
  border-bottom:1px solid var(--gray-200);
  background: linear-gradient(120deg,var(--purple-100), #fff);
}
.panel-header h3 { margin:0; font-size:1rem; color: var(--clemson-purple); }
.panel-sub { font-size:.6rem; letter-spacing:.5px; text-transform:uppercase; color: var(--gray-600); }
.panel-body { padding:1rem; display:grid; gap:1rem; }
.meta-section { margin:1.25rem; padding:1rem 1.25rem; }
.notes { margin:0; padding-left:1.1rem; font-size:.75rem; line-height:1.4; }

/* Chart / Blocks */
.chart-block {
  background: var(--gray-100);
  border:1px solid var(--gray-200);
  border-radius: var(--radius-md);
  padding:.75rem .75rem 1rem;
  display:flex;
  flex-direction:column;
  gap:.5rem;
  position:relative;
}
.chart-title {
  margin:0;
  font-size:.8rem;
  text-transform:uppercase;
  letter-spacing:.6px;
  display:flex;
  justify-content:space-between;
  gap:.5rem;
  color: var(--gray-900);
}
.mini-label { font-size:.6rem; color: var(--gray-600); font-weight:500; }

canvas { width:100% !important; height:auto !important; }

.mini-metrics, .service-kpis, .risk-indicators {
  list-style:none; margin:0; padding:0; display:grid; gap:.4rem;
}
.mini-metrics li, .service-kpis li {
  background:#fff;
  border:1px solid var(--gray-200);
  border-radius: var(--radius-sm);
  padding:.4rem .5rem;
  font-size:.65rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:.5rem;
}

.service-kpis li strong { font-size:.75rem; }

/* Heatmap */
.heatmap { display:grid; gap:2px; --cols: 1; }
.heatmap .cell {
  width:28px; height:28px;
  display:flex; align-items:center; justify-content:center;
  font-size:.55rem; color:#fff;
  border-radius:2px; font-weight:600;
}
.heatmap-legend { display:flex; align-items:center; gap:.5rem; font-size:.55rem; }
.heatmap-legend .gradient {
  flex:1; height:6px; border-radius:3px;
  background:linear-gradient(90deg,#d3d8ff,#522D80);
}

/* Processes list */
.process-list { list-style:none; padding:0; margin:0; display:grid; gap:.5rem; }
.process-item {
  background:#fff;
  border:1px solid var(--gray-200);
  border-radius: var(--radius-sm);
  padding:.5rem .6rem;
  display:grid;
  grid-template-columns:1fr auto;
  gap:.5rem;
  align-items:center;
  font-size:.65rem;
}
.process-item .meta { display:flex; gap:.75rem; flex-wrap:wrap; }
.badge {
  background: var(--clemson-purple);
  color:#fff;
  padding:.15rem .45rem;
  border-radius: var(--radius-sm);
  font-size:.55rem;
  letter-spacing:.5px;
  text-transform:uppercase;
}
.badge.auto { background: var(--clemson-orange); }
.badge.pilot { background: var(--yellow); color:#000; }
.badge.planned { background: var(--gray-400); }

/* Risk Indicators */
.risk-indicators li {
  display:flex; justify-content:space-between; align-items:center;
  background:#fff; border:1px solid var(--gray-200);
  padding:.4rem .55rem; border-radius:var(--radius-sm);
  font-size:.65rem;
}
.status-dot {
  width:14px; height:14px; border-radius:50%;
  box-shadow:0 0 0 2px #fff, 0 0 0 3px rgba(0,0,0,0.05);
}
.status-dot.green { background:var(--green); }
.status-dot.yellow { background:var(--yellow); }
.status-dot.red { background:var(--red); }

/* Scorecard */
.scorecard {
  width:100%; border-collapse:collapse;
  font-size:.65rem;
  background:#fff; border:1px solid var(--gray-200);
  border-radius: var(--radius-sm);
  overflow:hidden;
}
.scorecard th, .scorecard td {
  padding:.4rem .5rem;
  border-bottom:1px solid var(--gray-200);
  vertical-align:middle;
}
.scorecard tbody tr:last-child td { border-bottom:none; }
.trend { width:60px; height:24px; display:block; }
.sparkline { fill:none; stroke: var(--clemson-orange); stroke-width:2; }

.context { font-size:.6rem; color: var(--gray-600); margin:0; }
.context.small { font-size:.55rem; }

/* Gauges */
.gauge-wrap { width:180px; max-width:100%; margin:0 auto; }

[data-status="green"] { --status-color: var(--green); }
[data-status="yellow"] { --status-color: var(--yellow); }
[data-status="red"] { --status-color: var(--red); }
[data-status]::after {
  content: attr(data-status);
  position:absolute; top:6px; right:6px;
  background: var(--status-color);
  color:#fff; font-size:.5rem;
  padding:.15rem .4rem; border-radius: var(--radius-sm);
  text-transform:uppercase; letter-spacing:.5px;
}

.adoption-grid, .academic-grid, .ops-grid, .risk-grid, .strategic-grid {
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}

.app-footer {
  padding:1.5rem 1.25rem 2.5rem;
  text-align:center;
  font-size:.65rem;
  color: var(--gray-600);
}

@media (min-width: 1400px) {
  .grid-layout { grid-template-columns: repeat(2, 1fr); }
  .panel:nth-child(5) { grid-column:1 / -1; }
}
@media (max-width: 680px) {
  .app-header { flex-direction:column; align-items:flex-start; }
  .header-actions { width:100%; }
  .kpi-strip { grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); }
}
